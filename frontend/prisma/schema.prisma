generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("PRISMA_DATABASE_URL")
  directUrl = env("POSTGRES_URL")
}

// 1. Tabel PRINCIPAL (Contact + Ebook + Comenzi)
model Lead {
  id        Int      @id @default(autoincrement())
  nume      String
  prenume   String?  // Am pus opțional (poate nu toți completează)
  email     String
  telefon   String?  // Opțional (Ebook-urile nu cer telefon)
  firma     String?
  mesaj     String?
  pachetAds String?
  pachetWeb String?
  
  status    String   @default("Nou") // Nou, Văzut, Contactat, Ebook Download
  notes     String?  // <--- CÂMP NOU (Pentru notițe interne din Admin)
  
  createdAt DateTime @default(now())
}

// 2. Tabel pentru AUDIT
model AuditRequest {
  id        Int      @id @default(autoincrement())
  website   String
  platforme String
  buget     String
  nume      String
  email     String
  telefon   String
  
  status    String   @default("Nou")
  notes     String?  // <--- Am adăugat și aici, poate vrei să notezi ceva despre audit
  
  createdAt DateTime @default(now())
}

// 3. Tabel EBOOK (Opțional - momentan actions.js salvează în Lead, deci îl poți ignora sau șterge)
model EbookLead {
  id        Int      @id @default(autoincrement())
  nume      String
  email     String
  createdAt DateTime @default(now())
}

// 4. Tabel EDITOR WEBSITE
model SiteContent {
  id         Int      @id @default(autoincrement())
  sectionKey String   @unique
  content    Json
  updatedAt  DateTime @updatedAt
}

// 5. ADMIN
model Admin {
  id       Int    @id @default(autoincrement())
  email    String @unique
  password String
}

// 6. COOKIES
model CookieLog {
  id        Int      @id @default(autoincrement())
  visitorId String
  accepted  Boolean
  createdAt DateTime @default(now())
}